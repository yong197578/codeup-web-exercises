<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<script>
    "use strict";

    // fetch(url, {options})
    //
    // fetch('https://api.github.com/users')
    //     .then(response => console.log(response))
    //     .catch(error => console.error(error));

    fetch('https://api.github.com/users')
        // convert Promise to Response object, then convert Response object to JSON object.
        .then(response => response.json())
        // Once converted to JSON, we can do whatever we want with it.
        .then(data => {
            console.log(data)
            document.getElementsByTagName("body")[0].innerHTML = data.map(githubUser => {
                return `<div class="user-card"><h1>${githubUser.login}</h1></div>`
            })
                // need to join the array elements to return one big string of HTML
                .join("")
        }).then(data => {
        let cards = document.querySelectorAll(".user-card");
        cards.forEach(function(card) {
            card.addEventListener("click", function() {
                console.log("Element clicked!")
            })
        })
    })
        .catch(error => {
            console.log("hello there! You done messed up!")
            console.error(error)
        });


    fetch('https://api.github.com/users', {
        headers: {
            'Authorization': 'Bearer YOUR_TOKEN_HERE'
        }
    }).then(response => response.json()).then(resp => console.log(resp))
</script>
</body>
</html>